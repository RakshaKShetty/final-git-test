{
  "unpublishedCollection": {
    "name": "employee_service",
    "pageId": "Employees",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tedit_emp:()=>{\n\t\tedit_emp_filepicker.files.length>0? update_photo.run(()=> {\n\t\t\tupdate_emp.run(()=> {\n\t\t\t\tfetch_all_emp.run(()=>get_emp_by_id.run(()=> {\n\t\t\t\t\tshowAlert(\"Employee data updated successfully\", 'success');\n\t\t\t\t\tstoreValue('empTab', 2)\n\t\t\t\t}, ()=>{}, {empId: get_emp_by_id.data[0].id}))\n\t\t\t}, ()=>()=> showAlert('please enter the employee details correctly', 'error'), {photo: update_photo.data?.signedUrl.split('?')[0]})\n\t\t}, ()=> {}, {file: edit_emp_filepicker.files[0]}) : update_emp.run(()=> {\n\t\t\tshowAlert(\"Employee data updated successfully\", 'success');\n\t\t\tfetch_all_emp.run(()=>get_emp_by_id.run(()=> {\n\t\t\t\tshowAlert(\"Employee data updated successfully\", 'success');\n\t\t\t\tstoreValue('empTab', 2)\n\t\t\t}, ()=>{}, {empId: get_emp_by_id.data[0].id}))\n\t\t}, ()=> ()=> showAlert('please enter the employee details correctly', 'error'), {photo: get_emp_by_id.data[0].photo});\n\t},\n\n\tadd_emp:()=>{\n\t\tadd_employee.run(()=>{\n\t\t\tfetch_all_emp.run(()=>{\n\t\t\t\tget_emp_by_id.run(()=> {\n\t\t\t\t\tadd_emp_filepicker.files.length>0?update_photo.run(()=>{\n\t\t\t\t\t\tupdate_emp_photo.run(()=>{\n\t\t\t\t\t\t\tget_emp_by_id.run(()=> {\n\t\t\t\t\t\t\t\tfetch_all_emp.run();\n\t\t\t\t\t\t\t\tresetWidget('add_emp_form', true);\n\t\t\t\t\t\t\t\tresetWidget('add_emp_filepicker', true);\n\t\t\t\t\t\t\t\tshowAlert('Employee added successfully.', 'success')\n\t\t\t\t\t\t\t\tstoreValue('empTab', 2)},()=>{}, {empId: get_emp_by_id.data[0].id})\n\t\t\t\t\t\t}, ()=>{}, {photo: update_photo.data.signedUrl.split('?')[0], id: get_emp_by_id.data[0].id})\n\t\t\t\t\t}, ()=>{}, {file:add_emp_filepicker.files[0]}):get_emp_by_id.run(()=> {\n\t\t\t\t\t\tresetWidget('add_emp_form', true);\n\t\t\t\t\t\tresetWidget('add_emp_filepicker', true);\n\t\t\t\t\t\tshowAlert('Employee added successfully.', 'success');\n\t\t\t\t\t\tstoreValue('empTab', 2)},()=>{}, {empId: get_emp_by_id.data[0].id});\n\t\t\t\t}, ()=>{}, {empId: _.orderBy(fetch_all_emp.data, 'id', 'desc')[0].id})\n\t\t\t})\n\t\t}, ()=> showAlert('please enter the employee details correctly', 'error')) \n\t},\n\n\tupdate_manager:()=>{\n\t\ttry{\n\t\t\tconst manager_email = update_manager_manager.selectedOptionValue;\n\t\t\tupdate_manager_employees.selectedOptionValues.forEach(empId => update_emp_manager.run({manager: manager_email, id: empId}));\n\t\t\tfetch_all_emp.run(()=> {\n\t\t\t\tresetWidget('empTable', true);\n\t\t\t\tshowAlert('Manager updated for the selected employees','success')});\n\t\t} catch {\n\t\t\tshowAlert('Manager update seems to be broken right now, please try again after sometime', 'error');\n\t\t} finally {\n\t\t\tresetWidget('update_manager_modal', true);\n\t\t\tcloseModal('update_manager_modal');\n\t\t}\n\t},\n\n\tupdate_pod:()=>{\n\t\ttry{\n\t\t\tconst pod = update_pod_pod.selectedOptionValue;\n\t\t\tupdate_pod_employees.selectedOptionValues.forEach(empId => update_emp_pod.run({pod: pod, id: empId}));\n\t\t\tfetch_all_emp.run(()=> {\n\t\t\t\tresetWidget('empTable', true);\n\t\t\t\tshowAlert('POD updated for the selected employees', 'success');\n\t\t\t});\n\t\t} catch {\n\t\t\tshowAlert('POD update seems to be broken right now, please try again after sometime', 'error');\n\t\t} finally {\n\t\t\tresetWidget('update_pod_modal', true);\n\t\t\tcloseModal('update_pod_modal');\n\t\t}\n\t}\n}",
    "variables": [],
    "userPermissions": []
  },
  "id": "Employees_employee_service",
  "deleted": false,
  "gitSyncId": "637b0909b87c411aad4204e4_6391c468e77ccb59f687e7b5"
}